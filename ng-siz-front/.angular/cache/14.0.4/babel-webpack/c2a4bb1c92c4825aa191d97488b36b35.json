{"ast":null,"code":"import { EventEmitter } from '@angular/core';\nimport { environment } from \"src/environments/environment\";\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/common/http\";\nimport * as i2 from \"@angular/forms\";\nexport let SearchByTicketNumberComponent = /*#__PURE__*/(() => {\n  class SearchByTicketNumberComponent {\n    constructor(http) {\n      this.http = http;\n      this.ticketNumber = new EventEmitter();\n      this.noTicketSearch = new EventEmitter();\n      this.ticInput = '';\n    }\n\n    clearDocNumberInput() {\n      return document.getElementById('by_doc_number_input').value = '';\n    }\n\n    getByTicketNumber() {\n      document.getElementById('ticket_table').style.display = 'none';\n      this.noTicketSearch.emit(false);\n      document.getElementById('loader').style.display = '';\n      var ticket_number = document.querySelector(\"#by_ticket_number_input\").value;\n      console.log(ticket_number);\n\n      if (!ticket_number.match(\"^[a-zA-Z0-9]{13}\")) {\n        document.getElementById('loader').style.display = 'none';\n        return document.getElementById('wrong_number_message').style.display = '';\n      }\n\n      var allTicketCheckbox = document.getElementById(\"by_ticket_number_checkbox\").checked;\n      return this.http.post(environment.apiUrl + \"by_ticket_number\", {\n        TicketNumber: ticket_number,\n        ByTicketNumberCheckBox: allTicketCheckbox\n      }, {\n        headers: {\n          'Content-Type': 'application/json',\n          Accept: 'application/json'\n        }\n      }).subscribe(data => {\n        if (Object.keys(data).length == 0) {\n          this.noTicketSearch.emit(true);\n          document.getElementById('loader').style.display = 'none';\n          document.getElementById('wrong_time_request_message').style.display = 'none';\n        } else {\n          this.ticketNumber.emit(data);\n          document.getElementById('wrong_time_request_message').style.display = 'none';\n          document.getElementById('wrong_number_message').style.display = 'none';\n          document.getElementById('loader').style.display = 'none';\n          document.getElementById('ticket_table').style.display = '';\n          document.getElementById('print_by_ticket_number_div').style.display = '';\n          document.getElementById('print_by_doc_number_div').style.display = 'none'; //this.ticInput = '';\n          //(<HTMLButtonElement>document.getElementById('reload_button')).style.display = '';\n        }\n      });\n    }\n\n    ngOnInit() {}\n\n  }\n\n  SearchByTicketNumberComponent.ɵfac = function SearchByTicketNumberComponent_Factory(t) {\n    return new (t || SearchByTicketNumberComponent)(i0.ɵɵdirectiveInject(i1.HttpClient));\n  };\n\n  SearchByTicketNumberComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: SearchByTicketNumberComponent,\n    selectors: [[\"app-search-by-ticket-number\"]],\n    outputs: {\n      ticketNumber: \"ticketNumber\",\n      noTicketSearch: \"noTicketSearch\"\n    },\n    decls: 13,\n    vars: 3,\n    consts: [[1, \"app-search-by-ticket-number\"], [\"id\", \"by_ticket_number_header\", 1, \"by_ticket_number_h2\"], [\"for\", \"by_ticket_number_input_label\", 1, \"by_ticket_number_input_label\"], [\"type\", \"text\", \"required\", \"\", \"pattern\", \"[a-zA-Z0-9]{13}\", \"id\", \"by_ticket_number_input\", 1, \"by_ticket_number_input\", 3, \"ngModel\", \"ngModelChange\", \"click\"], [\"ticValue\", \"ngModel\"], [1, \"by_ticket_number_checkbox_container\"], [\"checked\", \"true\", \"type\", \"checkbox\", \"id\", \"by_ticket_number_checkbox\", 1, \"by_ticket_number_checkbox\", 3, \"disabled\"], [\"for\", \"by_ticket_number_checkbox\", \"id\", \"by_ticket_number_checkbox_label\", 1, \"by_ticket_number_checkbox_label\"], [\"id\", \"by_ticket_number_button\", 1, \"by_ticket_number_button\", 3, \"disabled\", \"click\"]],\n    template: function SearchByTicketNumberComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"div\", 0)(1, \"h2\", 1);\n        i0.ɵɵtext(2, \"\\u041F\\u043E \\u043D\\u043E\\u043C\\u0435\\u0440\\u0443 \\u0431\\u0438\\u043B\\u0435\\u0442\\u0430\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(3, \"label\", 2);\n        i0.ɵɵtext(4, \"\\u0421\\u0435\\u0440\\u0438\\u044F \\u0438 \\u043D\\u043E\\u043C\\u0435\\u0440 \\u0431\\u0438\\u043B\\u0435\\u0442\\u0430\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(5, \"input\", 3, 4);\n        i0.ɵɵlistener(\"ngModelChange\", function SearchByTicketNumberComponent_Template_input_ngModelChange_5_listener($event) {\n          return ctx.ticInput = $event;\n        })(\"click\", function SearchByTicketNumberComponent_Template_input_click_5_listener() {\n          return ctx.clearDocNumberInput();\n        });\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(7, \"div\", 5);\n        i0.ɵɵelement(8, \"input\", 6);\n        i0.ɵɵelementStart(9, \"label\", 7);\n        i0.ɵɵtext(10, \"\\u0412\\u0441\\u0435 \\u0431\\u0438\\u043B\\u0435\\u0442\\u044B \\u043F\\u0430\\u0441\\u0441\\u0430\\u0436\\u0438\\u0440\\u0430\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(11, \"button\", 8);\n        i0.ɵɵlistener(\"click\", function SearchByTicketNumberComponent_Template_button_click_11_listener() {\n          return ctx.getByTicketNumber();\n        });\n        i0.ɵɵtext(12, \"\\u041D\\u0430\\u0439\\u0442\\u0438\");\n        i0.ɵɵelementEnd()();\n      }\n\n      if (rf & 2) {\n        const _r0 = i0.ɵɵreference(6);\n\n        i0.ɵɵadvance(5);\n        i0.ɵɵproperty(\"ngModel\", ctx.ticInput);\n        i0.ɵɵadvance(3);\n        i0.ɵɵproperty(\"disabled\", _r0.invalid);\n        i0.ɵɵadvance(3);\n        i0.ɵɵproperty(\"disabled\", _r0.invalid || _r0.value == \"\");\n      }\n    },\n    dependencies: [i2.DefaultValueAccessor, i2.NgControlStatus, i2.RequiredValidator, i2.PatternValidator, i2.NgModel]\n  });\n  return SearchByTicketNumberComponent;\n})();","map":null,"metadata":{},"sourceType":"module"}