{"ast":null,"code":"import { EventEmitter } from '@angular/core';\nimport { environment } from \"src/environments/environment\";\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/common/http\";\nimport * as i2 from \"@angular/forms\";\nexport let SearchByDocNumberComponent = /*#__PURE__*/(() => {\n  class SearchByDocNumberComponent {\n    constructor(http) {\n      this.http = http;\n      this.docNumber = new EventEmitter();\n      this.noTicketSearch = new EventEmitter();\n      this.docInput = '';\n    }\n\n    clearTicketNumberInput() {\n      return document.getElementById('by_ticket_number_input').value = '';\n    }\n\n    getByDocNumber() {\n      document.getElementById('ticket_table').style.display = 'none';\n      this.noTicketSearch.emit(false);\n      document.getElementById('loader').style.display = '';\n      var doc_number = document.querySelector(\"#by_doc_number_input\").value;\n      console.log(doc_number);\n      return this.http.post(environment.apiUrl + \"by_doc_number/\", {\n        DocNumber: doc_number\n      }, {\n        headers: {\n          'Content-Type': 'application/json',\n          Accept: 'application/json'\n        }\n      }).subscribe(data => {\n        if (Object.keys(data).length == 0) {\n          this.noTicketSearch.emit(true);\n          document.getElementById('wrong_number_message').style.display = 'none';\n          document.getElementById('loader').style.display = 'none';\n          document.getElementById('wrong_time_request_message').style.display = 'none';\n        } else {\n          document.getElementById('wrong_time_request_message').style.display = 'none';\n          document.getElementById('wrong_number_message').style.display = 'none';\n          document.getElementById('loader').style.display = 'none';\n          document.getElementById('ticket_table').style.display = '';\n          document.getElementById('print_by_doc_number_div').style.display = '';\n          document.getElementById('print_by_ticket_number_div').style.display = 'none'; //this.docInput = '';\n          //(<HTMLButtonElement>document.getElementById('reload_button')).style.display = '';\n\n          this.docNumber.emit(data); //console.log(data)\n        }\n      });\n    }\n\n    ngOnInit() {}\n\n  }\n\n  SearchByDocNumberComponent.ɵfac = function SearchByDocNumberComponent_Factory(t) {\n    return new (t || SearchByDocNumberComponent)(i0.ɵɵdirectiveInject(i1.HttpClient));\n  };\n\n  SearchByDocNumberComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: SearchByDocNumberComponent,\n    selectors: [[\"app-search-by-doc-number\"]],\n    outputs: {\n      docNumber: \"docNumber\",\n      noTicketSearch: \"noTicketSearch\"\n    },\n    decls: 9,\n    vars: 2,\n    consts: [[1, \"app-search-by-doc-number\"], [\"id\", \"by_doc_number_header\", 1, \"by_doc_number_h2\"], [\"for\", \"by_doc_number_input_label\", 1, \"by_doc_number_input_label\"], [\"type\", \"text\", \"required\", \"\", \"pattern\", \"{1,20}\", \"id\", \"by_doc_number_input\", 1, \"by_doc_number_input\", 3, \"ngModel\", \"click\", \"ngModelChange\"], [\"docValue\", \"ngModel\"], [\"id\", \"by_doc_number_button\", 1, \"by_doc_number_button\", 3, \"disabled\", \"click\"]],\n    template: function SearchByDocNumberComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"div\", 0)(1, \"h2\", 1);\n        i0.ɵɵtext(2, \"\\u041F\\u043E \\u043D\\u043E\\u043C\\u0435\\u0440\\u0443 \\u0434\\u043E\\u043A\\u0443\\u043C\\u0435\\u043D\\u0442\\u0430\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(3, \"label\", 2);\n        i0.ɵɵtext(4, \"\\u0421\\u0435\\u0440\\u0438\\u044F \\u0438 \\u043D\\u043E\\u043C\\u0435\\u0440 \\u0434\\u043E\\u043A\\u0443\\u043C\\u0435\\u043D\\u0442\\u0430\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(5, \"input\", 3, 4);\n        i0.ɵɵlistener(\"click\", function SearchByDocNumberComponent_Template_input_click_5_listener() {\n          return ctx.clearTicketNumberInput();\n        })(\"ngModelChange\", function SearchByDocNumberComponent_Template_input_ngModelChange_5_listener($event) {\n          return ctx.docInput = $event;\n        });\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(7, \"button\", 5);\n        i0.ɵɵlistener(\"click\", function SearchByDocNumberComponent_Template_button_click_7_listener() {\n          return ctx.getByDocNumber();\n        });\n        i0.ɵɵtext(8, \"\\u041D\\u0430\\u0439\\u0442\\u0438\");\n        i0.ɵɵelementEnd()();\n      }\n\n      if (rf & 2) {\n        const _r0 = i0.ɵɵreference(6);\n\n        i0.ɵɵadvance(5);\n        i0.ɵɵproperty(\"ngModel\", ctx.docInput);\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"disabled\", _r0.invalid || _r0.value == \"\");\n      }\n    },\n    dependencies: [i2.DefaultValueAccessor, i2.NgControlStatus, i2.RequiredValidator, i2.PatternValidator, i2.NgModel]\n  });\n  return SearchByDocNumberComponent;\n})();","map":null,"metadata":{},"sourceType":"module"}